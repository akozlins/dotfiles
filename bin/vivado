#!/bin/bash
set -euf

export HOME="$DOTFILES"

VIVADO_CACHE="$HOME/.cache/vivado"

if [ $# -eq 1 ] ; then
    mkdir -p "$VIVADO_CACHE"
    unset CDPATH
    cd "$VIVADO_CACHE" || exit 1
fi

VIVADO_OPTS=(-jvm Xmx2048m)

exec \
"$VIVADO_ROOTDIR/bin/vivado" "${VIVADO_OPTS[@]}" "$@"
